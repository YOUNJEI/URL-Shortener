## 단축 URL 생성 알고리즘
#### SHA-256과 Base62 알고리즘을 결합하여 7자리의 unique한 단축 URL을 생성합니다.
SHA-256의 해시 알고리즘 특성(무작위성)과 단축 url에 흔히 사용되는 base62 인코딩을 채택하여 단축 URL 생성 알고리즘을 구상하였습니다.

사용자가 입력한 url을 SHA-256 해시 알고리즘을 이용해 랜덤의 해시값을 구하고, 구해진 해시값의 앞 10자리를 이용해 base62 문자와 매칭 시켜 7자리의 단축 URL을 생성하는 방식입니다.
### 알고리즘 예시
```
base62 charset = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"
```
1. 사용자가 *_"http://www.naver.com"_* 의 단축 URL 생성을 요청합니다.
2. 사용자별로 unique한 단축 url을 생성하기 위해 "원본url:\<username\>" 사용자 이름을 이어붙여 새로운 문자열로 만듭니다.  
   (eg, test라는 유저) *_"http://www.naver.com:test"_*
3. *_"http://www.naver.com:test"_* 문자열에 대해 SHA-256 해시 알고리즘을 돌리면, 아래와 같은 해시값을 얻을 수 있습니다.  
"*FCFBF587703959B3FEA595BFA3A3473FCDF...*"
4. 만들어진 해시값의 각 문자는 16진수의 값이며 4개의 비트로 표현되어 있습니다. 위의 예시에서 아래와 같이 bit-field를 표현할 수 있습니다.  
F = 1111<sub>(2)</sub>,C = 1100<sub>(2)</sub>, B = 1011<sub>(2)</sub>, 5 = 0101<sub>(2)</sub>  
5. 7자리의 base62 문자열로 치환하려면 총 *42개*의 비트가 필요하기 때문에, 위의 해시값에서 순서대로 10개의 해시값을 비트로 표현합니다.  
FCFBF58770 비트를 쭉 나열하면  
1111 1100 1111 1011 1111 0101 1000 0111 0111 0000 *총 40개*의 비트를 가져올 수 있습니다.  
6. 부족한 2개의 비트는 00으로 뒤에 채워줍니다.  
1111 1100 1111 1011 1111 0101 1000 0111 0111 0000 00
7. 42개의 비트를 6개씩 chunk 하여 base62 문자로 치환합니다.  
111111 = B(63), 001111 = P(15), 101111 = v(47), 110101 = 1(53),  
100001 = h(33), 110111 = 3(55), 000000 = A(0)    
치환된 base62 문자열 *"BPv1h3A"* 

최종적으로 *"BPv1h3A"* 라는 7자리의 단축 URL을 얻었습니다.  
(만약, DB에 이미 동일한 단축 URL이 있다면, *"BPv1h3A"* 에 대해 unique한 단축 url이 나올 때까지 3번 과정부터 반복합니다.)